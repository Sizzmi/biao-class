<meta charset="utf-8">
<form id="todo-form" action="http://baidu.com">
  <!-- {title:eat,completed:false,remind_at:2018-...} -->
  <input name="title" type="text" value="yo">
  <br>
  <label>
    <input name="completed" type="checkbox"> 完成
  </label>
  <br>
  <!-- <input type="color" name="color">-->
  <textarea name="desc">我是一段描述</textarea>
  <!-- <input type="text" name='user' value="user user">
  <input type="text" name='a' value="aa">
  <input type="text" name='b' value="bb"> -->
  <button type="submit">添加任务</button>
</form>


<script>
  ; (function () {
    'use strict';
    var row = {};

    // var title = document.querySelector('[name=title]');
    // var completed = document.querySelector('[name=completed]');

    // row.title = title.value;
    // row.completed = completed.value;
    // console.log(row);

    function get_form_data(form_selector) {
      var data = {};
      var form = document.querySelector(form_selector);
      var list = form.querySelectorAll('[name]');


      list.forEach(function (input) {

        // if(input.type =='checkbox'||input.type == 'radio'){
        //   data[input.name] =input.checked;
        // }else if(input.type=='text'||input.type =='search'){
        //   data[input.name] = input.value;
        // }

        switch (input.nodeName) {
          case 'INPUT':
            switch (input.type) {
              case 'text':
              case 'search':
              case 'number':
              case 'password':
              /*如果是字符类数据，使用用户输入的值*/
                data[input.name] = input.value;
                break;
              case 'radio':
              case 'checkbox':
              /*如果是打勾类数据，使用打钩的状态（打|没打）*/
                data[input.name] = input.checked;
                break;
            }
            console.log(input);
            break;
        }
      });
      return data;
    }
    var row = get_form_data('#todo-form');
    console.log(row);
  })();



</script>



<!-- <div class="todo-list">
  <div class="todo-item">买菜</div>
</div> -->