<script>
  var li_all = document.querySelectorALL('li');
  for (var i = 0; i < li_all.length; i++) {
    var li = li_all[i];
    li.addEventListener('click', function (e) {
      var list = this.querySelector('ul');
      if (!list || e.target !== this)
        return;
      list.hidden = !list.hidden;
    });   
  }
</script>

<script>
  var li_all = document.querySelectorAll('li');
  for (var i = 0;i < li_all.length; i++){
    var li = li_all[i];
    li.addEventListener('click',function(e){
      var list = this.querySelector('ul');
      if(!list||e.target !==this)
      return;
      list.hidden = !list.hidden;
    });
  }
</script>